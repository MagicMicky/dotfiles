# Unified Starship Configuration
# Adapts based on environment variables set by 00-detect.zsh
# Character system: Œª (laptops), ! (production), ¬∑ (other servers)

# Main prompt format
format = """
$username\
$hostname\
[\\[${env_var.STARSHIP_ENV_CHAR}\\]](bold ${env_var.STARSHIP_ENV_COLOR}) \
$directory\
$git_branch\
$git_status\
$python\
$nodejs\
$golang\
$rust\
$docker_context\
$package\
$cmd_duration\
$line_break\
$character
"""

# Username (only shown for root or SSH)
[username]
show_always = false
format = "[$user]($style)@"
style_root = "bold #FF5370"
style_user = "bold #FFB86C"
disabled = false

# Hostname (controlled by STARSHIP_SHOW_HOSTNAME env var)
[hostname]
ssh_only = false
format = "[$hostname](bold ${env_var.STARSHIP_ENV_COLOR}) "
disabled = false

# Environment indicator character (Œª, !, or ¬∑)
[env_var.STARSHIP_ENV_CHAR]
variable = "STARSHIP_ENV_CHAR"
default = "Œª"
format = "$env_value"

# Environment color
[env_var.STARSHIP_ENV_COLOR]
variable = "STARSHIP_ENV_COLOR"
default = "#82AAFF"

# Directory
[directory]
style = "bold ${env_var.STARSHIP_ENV_COLOR}"
truncation_length = 3
truncate_to_repo = true
format = "[$path]($style)"
truncation_symbol = "‚Ä¶/"

[directory.substitutions]
"Documents" = " "
"Downloads" = " "
"Music" = " "
"Pictures" = " "
"Development" = " "

# Git branch
[git_branch]
style = "bold purple"
format = " on [$symbol$branch]($style)"
symbol = " "

# Git status
[git_status]
format = "([ \\[$all_status$ahead_behind\\]]($style))"
style = "bold red"
ahead = "‚á°${count}"
behind = "‚á£${count}"
diverged = "‚áï‚á°${ahead_count}‚á£${behind_count}"
untracked = "?"
stashed = "$"
modified = "!"
staged = "+"
renamed = "¬ª"
deleted = "‚úò"
conflicted = "="

# Command duration
[cmd_duration]
min_time = 500
format = " took [$duration]($style)"
style = "bold yellow"

# Prompt character
[character]
success_symbol = " [‚ùØ](bold green)"
error_symbol = " [‚ùØ](bold red)"
vicmd_symbol = " [‚ùÆ](bold green)"
vicmd_replace_one_symbol = " [‚ùÆ](bold purple)"
vicmd_replace_symbol = " [‚ùÆ](bold purple)"
vicmd_visual_symbol = " [‚ùÆ](bold yellow)"

# Language indicators (only shown when in relevant project)
[python]
format = " via [$symbol$version]($style)"
symbol = " "
style = "bold yellow"

[nodejs]
format = " via [$symbol$version]($style)"
symbol = " "
style = "bold green"

[golang]
format = " via [$symbol$version]($style)"
symbol = " "
style = "bold cyan"

[rust]
format = " via [$symbol$version]($style)"
symbol = " "
style = "bold red"

[docker_context]
format = " via [$symbol$context]($style)"
symbol = " "
style = "bold blue"
only_with_files = true

[package]
format = " is [$symbol$version]($style)"
symbol = " "
style = "bold 208"

# Kubernetes (for pro profile)
[kubernetes]
format = " on [$symbol$context( \\($namespace\\))]($style)"
symbol = "‚ò∏ "
style = "bold blue"
disabled = false

[kubernetes.context_aliases]
"dev-.*" = "dev"
"prod-.*" = "prod"

# AWS
[aws]
format = " on [$symbol($profile )(\\($region\\) )]($style)"
symbol = "‚òÅÔ∏è "
style = "bold yellow"

[aws.region_aliases]
us-east-1 = "use1"
us-west-2 = "usw2"
eu-west-1 = "euw1"

# Terraform
[terraform]
format = " via [$symbol$workspace]($style)"
symbol = "üí† "
style = "bold 105"

# Time (optional, disabled by default)
[time]
disabled = true
format = "[$time]($style) "
style = "bold white"
time_format = "%T"

# Battery (useful for laptops)
[battery]
full_symbol = "üîã"
charging_symbol = "‚ö°"
discharging_symbol = "üíÄ"

[[battery.display]]
threshold = 10
style = "bold red"

[[battery.display]]
threshold = 30
style = "bold yellow"

# Memory usage (optional, disabled by default)
[memory_usage]
disabled = true
threshold = 75
symbol = " "
style = "bold dimmed white"
format = "via $symbol[$ram]($style) "

# Jobs (background jobs indicator)
[jobs]
symbol = "‚ú¶"
style = "bold blue"
number_threshold = 1
format = "[$symbol$number]($style) "

# Line break
[line_break]
disabled = false

# Status
[status]
style = "bold red"
symbol = "‚úñ"
disabled = false
format = "[$symbol $status]($style) "
